<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MinimalMind - Digital Minimalism Experiment</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --background: #ecf0f1;
            --text: #2c3e50;
            --success: #27ae60;
            --warning: #f39c12;
            --transition: all 0.3s ease;
            --border-radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .motion-reduced * {
            transition: none !important;
            animation: none !important;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }

        h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-weight: 300;
        }

        .tagline {
            color: #7f8c8d;
            font-style: italic;
        }

        /* Control Panel */
        .control-panel {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .setting-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: 500;
            color: var(--primary);
        }

        select, input[type="range"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }

        .buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .primary-btn {
            background-color: var(--secondary);
            color: white;
        }

        .primary-btn:hover {
            background-color: #2980b9;
        }

        .secondary-btn {
            background-color: #95a5a6;
            color: white;
        }

        .secondary-btn:hover {
            background-color: #7f8c8d;
        }

        .danger-btn {
            background-color: var(--accent);
            color: white;
        }

        .danger-btn:hover {
            background-color: #c0392b;
        }

        /* Main Interface */
        .main-interface {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .focus-text {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            font-weight: 300;
        }

        .timer {
            font-size: 3rem;
            font-family: 'Courier New', monospace;
            color: var(--secondary);
            margin: 20px 0;
        }

        .interaction-hint {
            color: #95a5a6;
            font-size: 0.9rem;
            margin-top: 20px;
        }

        /* Stats Panel */
        .stats-panel {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 20px;
            margin-bottom: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            text-align: center;
        }

        .stat-item {
            padding: 15px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 300;
            color: var(--secondary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .score-display {
            font-size: 3rem;
            font-weight: 300;
            text-align: center;
            padding: 20px;
        }

        /* Distractions */
        .distraction {
            position: fixed;
            padding: 15px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            cursor: pointer;
            z-index: 1000;
            transition: var(--transition);
            animation: float 3s ease-in-out infinite;
            border: 2px solid transparent;
        }

        .distraction:hover {
            transform: scale(1.05);
            border-color: var(--warning);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .notification {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .advertisement {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .social {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        /* Tips Panel */
        .tips-panel {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 25px;
        }

        .tips-panel h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tip-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tip-item:last-child {
            border-bottom: none;
        }

        /* Accessibility */
        .accessibility-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            z-index: 1001;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .focus-text {
                font-size: 1.8rem;
            }
            
            .timer {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .main-interface {
                padding: 20px;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }

        /* High Contrast Mode */
        .high-contrast {
            --background: #000000;
            --text: #ffffff;
            --primary: #ffffff;
        }

        .high-contrast .main-interface,
        .high-contrast .control-panel,
        .high-contrast .stats-panel,
        .high-contrast .tips-panel {
            background: #000000;
            border: 2px solid #ffffff;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> MinimalMind</h1>
            <p class="tagline">Measuring digital dependency through intentional design</p>
        </header>

        <div class="control-panel">
            <div class="settings-grid">
                <div class="setting-group">
                    <label for="distraction-level">
                        <i class="fas fa-bell"></i> Distraction Intensity
                    </label>
                    <select id="distraction-level">
                        <option value="low">Low (Zen Mode)</option>
                        <option value="medium" selected>Medium (Balanced)</option>
                        <option value="high">High (Challenge Mode)</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="session-time">
                        <i class="fas fa-clock"></i> Session Duration
                    </label>
                    <select id="session-time">
                        <option value="60">1 minute</option>
                        <option value="300" selected>5 minutes</option>
                        <option value="600">10 minutes</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="visual-complexity">
                        <i class="fas fa-eye"></i> Visual Complexity
                    </label>
                    <input type="range" id="visual-complexity" min="1" max="10" value="5">
                </div>
            </div>
            
            <div class="buttons">
                <button class="primary-btn" id="start-btn">
                    <i class="fas fa-play"></i> Start Experiment
                </button>
                <button class="secondary-btn" id="pause-btn" disabled>
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button class="danger-btn" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset
                </button>
                <button class="secondary-btn" id="motion-toggle">
                    <i class="fas fa-running"></i> Reduce Motion
                </button>
                <button class="secondary-btn" id="contrast-toggle">
                    <i class="fas fa-adjust"></i> High Contrast
                </button>
            </div>
        </div>

        <div class="main-interface" id="main-interface">
            <div class="focus-text" id="focus-text">
                Focus on your breath. Inhale... Exhale...
            </div>
            <div class="timer" id="timer">
                05:00
            </div>
            <div class="interaction-hint" id="interaction-hint">
                Distractions will appear. Try to ignore them.
            </div>
        </div>

        <div class="stats-panel">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="minimalism-score">100</div>
                    <div class="stat-label">Minimalism Score</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="distractions-shown">0</div>
                    <div class="stat-label">Distractions Shown</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="distractions-clicked">0</div>
                    <div class="stat-label">Distractions Clicked</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="resistance-rate">100%</div>
                    <div class="stat-label">Resistance Rate</div>
                </div>
            </div>
        </div>

        <div class="tips-panel">
            <h3><i class="fas fa-lightbulb"></i> Reflection Tips</h3>
            <div id="tips-container">
                <div class="tip-item">
                    <i class="fas fa-check-circle" style="color: var(--success);"></i>
                    <span>High minimalism score indicates good focus retention</span>
                </div>
                <div class="tip-item">
                    <i class="fas fa-mobile-alt" style="color: var(--warning);"></i>
                    <span>Each distraction click reduces your score by 2-5 points</span>
                </div>
                <div class="tip-item">
                    <i class="fas fa-hourglass-half" style="color: var(--secondary);"></i>
                    <span>Longer sessions provide more accurate dependency assessment</span>
                </div>
            </div>
        </div>
    </div>

    <div class="accessibility-badge" id="accessibility-badge">
        <i class="fas fa-universal-access"></i>
        <span>Accessibility Features Active</span>
    </div>

    <script>
        class MinimalismExperiment {
            constructor() {
                this.state = {
                    running: false,
                    paused: false,
                    startTime: null,
                    elapsedTime: 0,
                    totalTime: 300, // 5 minutes default
                    distractionsShown: 0,
                    distractionsClicked: 0,
                    score: 100,
                    distractionInterval: null,
                    visualComplexity: 5
                };

                this.distractionTypes = [
                    {
                        name: 'notification',
                        title: 'New Notification',
                        content: 'You have 3 new messages',
                        icon: 'fas fa-bell'
                    },
                    {
                        name: 'social',
                        title: 'Social Update',
                        content: 'Your friend posted a new photo',
                        icon: 'fas fa-user-friends'
                    },
                    {
                        name: 'advertisement',
                        title: 'Special Offer',
                        content: 'Limited time discount! Click here!',
                        icon: 'fas fa-ad'
                    },
                    {
                        name: 'email',
                        title: 'New Email',
                        content: 'Important update requires attention',
                        icon: 'fas fa-envelope'
                    },
                    {
                        name: 'update',
                        title: 'System Update',
                        content: 'Restart required to install updates',
                        icon: 'fas fa-sync'
                    }
                ];

                this.init();
            }

            init() {
                this.bindElements();
                this.bindEvents();
                this.updateVisualComplexity();
            }

            bindElements() {
                this.elements = {
                    startBtn: document.getElementById('start-btn'),
                    pauseBtn: document.getElementById('pause-btn'),
                    resetBtn: document.getElementById('reset-btn'),
                    timer: document.getElementById('timer'),
                    score: document.getElementById('minimalism-score'),
                    distractionsShown: document.getElementById('distractions-shown'),
                    distractionsClicked: document.getElementById('distractions-clicked'),
                    resistanceRate: document.getElementById('resistance-rate'),
                    distractionLevel: document.getElementById('distraction-level'),
                    sessionTime: document.getElementById('session-time'),
                    visualComplexity: document.getElementById('visual-complexity'),
                    mainInterface: document.getElementById('main-interface'),
                    focusText: document.getElementById('focus-text'),
                    interactionHint: document.getElementById('interaction-hint'),
                    motionToggle: document.getElementById('motion-toggle'),
                    contrastToggle: document.getElementById('contrast-toggle'),
                    tipsContainer: document.getElementById('tips-container'),
                    accessibilityBadge: document.getElementById('accessibility-badge')
                };
            }

            bindEvents() {
                this.elements.startBtn.addEventListener('click', () => this.toggleExperiment());
                this.elements.pauseBtn.addEventListener('click', () => this.togglePause());
                this.elements.resetBtn.addEventListener('click', () => this.resetExperiment());
                this.elements.distractionLevel.addEventListener('change', (e) => this.updateDistractionSettings());
                this.elements.sessionTime.addEventListener('change', (e) => {
                    this.state.totalTime = parseInt(e.target.value);
                    this.updateTimerDisplay();
                });
                this.elements.visualComplexity.addEventListener('input', (e) => {
                    this.state.visualComplexity = parseInt(e.target.value);
                    this.updateVisualComplexity();
                });
                this.elements.motionToggle.addEventListener('click', () => this.toggleMotion());
                this.elements.contrastToggle.addEventListener('click', () => this.toggleContrast());
            }

            toggleExperiment() {
                if (!this.state.running) {
                    this.startExperiment();
                } else {
                    this.stopExperiment();
                }
            }

            startExperiment() {
                this.state.running = true;
                this.state.startTime = Date.now() - this.state.elapsedTime * 1000;
                this.state.distractionsShown = 0;
                this.state.distractionsClicked = 0;
                this.state.score = 100;

                this.elements.startBtn.innerHTML = '<i class="fas fa-stop"></i> Stop Experiment';
                this.elements.pauseBtn.disabled = false;
                this.elements.focusText.textContent = 'Maintain focus... Breathe deeply...';
                this.elements.interactionHint.textContent = 'Distractions appearing. Resist the urge to click.';

                this.updateStats();
                this.startTimer();
                this.startDistractions();
            }

            stopExperiment() {
                this.state.running = false;
                this.state.paused = false;
                
                this.elements.startBtn.innerHTML = '<i class="fas fa-play"></i> Start Experiment';
                this.elements.pauseBtn.disabled = true;
                this.elements.pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
                this.elements.focusText.textContent = 'Session Complete';
                this.elements.interactionHint.textContent = 'Review your minimalism score and reflection tips.';

                clearInterval(this.state.timerInterval);
                clearInterval(this.state.distractionInterval);
                
                this.showFinalResults();
            }

            togglePause() {
                if (!this.state.running) return;

                this.state.paused = !this.state.paused;
                
                if (this.state.paused) {
                    clearInterval(this.state.timerInterval);
                    clearInterval(this.state.distractionInterval);
                    this.elements.pauseBtn.innerHTML = '<i class="fas fa-play"></i> Resume';
                    this.elements.focusText.textContent = 'Paused';
                } else {
                    this.startTimer();
                    this.startDistractions();
                    this.state.startTime = Date.now() - this.state.elapsedTime * 1000;
                    this.elements.pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
                    this.elements.focusText.textContent = 'Maintain focus... Breathe deeply...';
                }
            }

            startTimer() {
                clearInterval(this.state.timerInterval);
                
                this.state.timerInterval = setInterval(() => {
                    if (!this.state.paused) {
                        this.state.elapsedTime = Math.floor((Date.now() - this.state.startTime) / 1000);
                        
                        if (this.state.elapsedTime >= this.state.totalTime) {
                            this.stopExperiment();
                            return;
                        }
                        
                        this.updateTimerDisplay();
                    }
                }, 1000);
            }

            updateTimerDisplay() {
                const remaining = this.state.totalTime - this.state.elapsedTime;
                const minutes = Math.floor(remaining / 60);
                const seconds = remaining % 60;
                this.elements.timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            startDistractions() {
                clearInterval(this.state.distractionInterval);
                
                const level = this.elements.distractionLevel.value;
                let interval, intensity;
                
                switch(level) {
                    case 'low':
                        interval = 15000; // 15 seconds
                        intensity = 0.7;
                        break;
                    case 'high':
                        interval = 5000; // 5 seconds
                        intensity = 1.3;
                        break;
                    default:
                        interval = 10000; // 10 seconds
                        intensity = 1.0;
                }
                
                this.state.distractionInterval = setInterval(() => {
                    if (!this.state.paused && this.state.running) {
                        this.showDistraction(intensity);
                    }
                }, interval);
            }

            showDistraction(intensity) {
                const type = this.distractionTypes[Math.floor(Math.random() * this.distractionTypes.length)];
                const distraction = document.createElement('div');
                distraction.className = `distraction ${type.name}`;
                
                // Random position
                const x = Math.random() * (window.innerWidth - 200);
                const y = Math.random() * (window.innerHeight - 100);
                
                distraction.style.left = `${x}px`;
                distraction.style.top = `${y}px`;
                distraction.style.opacity = '0';
                distraction.style.transform = 'translateY(20px)';
                
                distraction.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="${type.icon}" style="font-size: 1.2rem;"></i>
                        <div>
                            <strong>${type.title}</strong>
                            <div style="font-size: 0.9rem;">${type.content}</div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(distraction);
                
                // Animate in
                setTimeout(() => {
                    distraction.style.opacity = '1';
                    distraction.style.transform = 'translateY(0)';
                }, 10);
                
                // Remove after timeout
                setTimeout(() => {
                    if (distraction.parentNode) {
                        distraction.style.opacity = '0';
                        distraction.style.transform = 'translateY(20px)';
                        setTimeout(() => {
                            if (distraction.parentNode) {
                                distraction.parentNode.removeChild(distraction);
                            }
                        }, 300);
                    }
                }, 5000 * intensity);
                
                // Click handler
                distraction.addEventListener('click', () => {
                    this.handleDistractionClick(distraction, intensity);
                });
                
                this.state.distractionsShown++;
                this.updateStats();
            }

            handleDistractionClick(distraction, intensity) {
                this.state.distractionsClicked++;
                
                // Calculate score penalty based on intensity
                const penalty = Math.floor(5 * intensity);
                this.state.score = Math.max(0, this.state.score - penalty);
                
                // Visual feedback
                distraction.style.borderColor = 'var(--accent)';
                distraction.style.boxShadow = '0 0 20px var(--accent)';
                
                // Update focus text temporarily
                const originalText = this.elements.focusText.textContent;
                this.elements.focusText.textContent = 'Distraction clicked! Return to focus...';
                this.elements.focusText.style.color = 'var(--accent)';
                
                setTimeout(() => {
                    this.elements.focusText.textContent = originalText;
                    this.elements.focusText.style.color = '';
                }, 2000);
                
                this.updateStats();
                
                // Remove distraction immediately
                setTimeout(() => {
                    if (distraction.parentNode) {
                        distraction.parentNode.removeChild(distraction);
                    }
                }, 1000);
            }

            updateStats() {
                this.elements.score.textContent = this.state.score;
                this.elements.distractionsShown.textContent = this.state.distractionsShown;
                this.elements.distractionsClicked.textContent = this.state.distractionsClicked;
                
                const resistanceRate = this.state.distractionsShown > 0 
                    ? Math.round((1 - this.state.distractionsClicked / this.state.distractionsShown) * 100)
                    : 100;
                this.elements.resistanceRate.textContent = `${resistanceRate}%`;
                
                // Update tips based on score
                this.updateTips();
            }

            updateTips() {
                let tips = [];
                
                if (this.state.score >= 80) {
                    tips.push({
                        icon: 'fas fa-medal',
                        color: 'var(--success)',
                        text: 'Excellent focus! You maintain strong digital discipline.'
                    });
                } else if (this.state.score >= 60) {
                    tips.push({
                        icon: 'fas fa-thumbs-up',
                        color: 'var(--warning)',
                        text: 'Good resistance. Consider longer focus sessions.'
                    });
                } else {
                    tips.push({
                        icon: 'fas fa-lightbulb',
                        color: 'var(--accent)',
                        text: 'Practice mindfulness to improve digital minimalism.'
                    });
                }
                
                if (this.state.distractionsClicked > 0) {
                    tips.push({
                        icon: 'fas fa-mouse-pointer',
                        color: 'var(--accent)',
                        text: `You clicked ${this.state.distractionsClicked} distraction(s). Try observing without interacting.`
                    });
                }
                
                tips.push({
                    icon: 'fas fa-hourglass-end',
                    color: 'var(--secondary)',
                    text: 'Regular practice improves digital dependency resistance.'
                });
                
                this.elements.tipsContainer.innerHTML = tips.map(tip => `
                    <div class="tip-item">
                        <i class="${tip.icon}" style="color: ${tip.color};"></i>
                        <span>${tip.text}</span>
                    </div>
                `).join('');
            }

            updateVisualComplexity() {
                const complexity = this.state.visualComplexity;
                const interfaceEl = this.elements.mainInterface;
                
                // Adjust visual elements based on complexity
                interfaceEl.style.background = complexity > 7 
                    ? 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'
                    : complexity > 4
                    ? 'white'
                    : '#f8f9fa';
                
                interfaceEl.style.boxShadow = complexity > 6
                    ? '0 10px 30px rgba(0,0,0,0.1)'
                    : '0 2px 10px rgba(0,0,0,0.05)';
                
                // Update complexity score display
                const complexityScore = 100 - (complexity - 1) * 10;
                document.querySelector('.stat-value').textContent = complexityScore;
            }

            toggleMotion() {
                document.body.classList.toggle('motion-reduced');
                const badge = this.elements.accessibilityBadge;
                if (document.body.classList.contains('motion-reduced')) {
                    badge.innerHTML = '<i class="fas fa-universal-access"></i><span>Reduced Motion Active</span>';
                } else {
                    badge.innerHTML = '<i class="fas fa-universal-access"></i><span>Accessibility Features Active</span>';
                }
            }

            toggleContrast() {
                document.body.classList.toggle('high-contrast');
                const badge = this.elements.accessibilityBadge;
                if (document.body.classList.contains('high-contrast')) {
                    badge.innerHTML = '<i class="fas fa-universal-access"></i><span>High Contrast Active</span>';
                } else {
                    badge.innerHTML = '<i class="fas fa-universal-access"></i><span>Accessibility Features Active</span>';
                }
            }

            showFinalResults() {
                const results = `
                    <div style="text-align: center; padding: 20px;">
                        <h3 style="color: var(--primary); margin-bottom: 20px;">Experiment Complete</h3>
                        <div style="font-size: 4rem; color: var(--secondary); margin: 20px 0;">
                            ${this.state.score}
                        </div>
                        <p style="margin-bottom: 20px; color: #7f8c8d;">
                            Final Minimalism Score
                        </p>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: var(--border-radius); margin: 20px 0;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: left;">
                                <div>Distractions Shown:</div>
                                <div style="text-align: right; font-weight: bold;">${this.state.distractionsShown}</div>
                                <div>Distractions Clicked:</div>
                                <div style="text-align: right; font-weight: bold; color: var(--accent);">${this.state.distractionsClicked}</div>
                                <div>Resistance Rate:</div>
                                <div style="text-align: right; font-weight: bold; color: var(--success);">
                                    ${this.state.distractionsShown > 0 ? Math.round((1 - this.state.distractionsClicked / this.state.distractionsShown) * 100) : 100}%
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                this.elements.mainInterface.innerHTML = results;
            }

            resetExperiment() {
                this.stopExperiment();
                this.state.elapsedTime = 0;
                this.state.distractionsShown = 0;
                this.state.distractionsClicked = 0;
                this.state.score = 100;
                
                this.elements.timer.textContent = '05:00';
                this.elements.focusText.textContent = 'Focus on your breath. Inhale... Exhale...';
                this.elements.interactionHint.textContent = 'Distractions will appear. Try to ignore them.';
                
                // Clear all distractions
                document.querySelectorAll('.distraction').forEach(d => d.remove());
                
                this.updateStats();
                this.updateTips();
            }

            updateDistractionSettings() {
                if (this.state.running && !this.state.paused) {
                    this.startDistractions();
                }
            }
        }

        // Initialize the experiment when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.experiment = new MinimalismExperiment();
            
            // Set initial timer display
            const sessionTime = document.getElementById('session-time');
            const totalSeconds = parseInt(sessionTime.value);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        });
    </script>
</body>
</html>