<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Logic Builder</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>Logic Blocks</h2>
            
            <div class="block-category">
                <h3>Control Flow</h3>
                <div class="block start" draggable="true" data-type="start">
                    <div>Start</div>
                </div>
                <div class="block end" draggable="true" data-type="end">
                    <div>End</div>
                </div>
            </div>

            <div class="block-category">
                <h3>Logic</h3>
                <div class="block logic" draggable="true" data-type="logic">
                    <div>If Condition</div>
                </div>
                <div class="block logic" draggable="true" data-type="logic">
                    <div>While Loop</div>
                </div>
                <div class="block logic" draggable="true" data-type="logic">
                    <div>For Loop</div>
                </div>
                <div class="block logic" draggable="true" data-type="logic">
                    <div>Switch Case</div>
                </div>
            </div>

            <div class="block-category">
                <h3>Actions</h3>
                <div class="block action" draggable="true" data-type="action">
                    <div>Print</div>
                </div>
                <div class="block action" draggable="true" data-type="action">
                    <div>Calculate</div>
                </div>
                <div class="block action" draggable="true" data-type="action">
                    <div>Set Variable</div>
                </div>
                <div class="block action" draggable="true" data-type="action">
                    <div>API Call</div>
                </div>
            </div>

            <div class="block-category">
                <h3>Data</h3>
                <div class="block action" draggable="true" data-type="action">
                    <div>Get Input</div>
                </div>
                <div class="block action" draggable="true" data-type="action">
                    <div>Store Data</div>
                </div>
            </div>
        </div>

        <div class="canvas">
            <div class="toolbar">
                <button onclick="clearCanvas()">Clear All</button>
                <button onclick="exportLogic()">Export JSON</button>
                <button onclick="importLogic()">Import JSON</button>
                <button onclick="saveToFile()">Save to File</button>
            </div>
            
            <!-- Variable Input Panel -->
            <div id="varInputPanel" class="input-panel" style="display: none;">
                <div class="panel-header">
                    <h3>Enter Variables</h3>
                    <button onclick="closeVarPanel()" class="close-btn">×</button>
                </div>
                <div class="panel-content">
                    <p class="help-text">Format: x=10, age=25, name="John"</p>
                    <textarea id="varInput" placeholder="Enter variables here (or leave empty)..."></textarea>
                    <div class="panel-buttons">
                        <button onclick="startExecution()" class="primary-btn">Run</button>
                        <button onclick="closeVarPanel()" class="secondary-btn">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Results Panel -->
            <div id="resultsPanel" class="results-panel" style="display: none;">
                <div class="panel-header">
                    <h3>Execution Results</h3>
                    <button onclick="closeResultsPanel()" class="close-btn">×</button>
                </div>
                <div class="panel-content">
                    <div id="executionStatus" class="status-info"></div>
                    <div id="variablesDisplay" class="variables-display"></div>
                </div>
            </div>
            
            <svg id="connectionSvg"></svg>
            <div class="canvas-content" id="canvasContent"></div>
        </div>
    </div>

    <input type="file" id="fileInput" style="display: none;" accept=".json">

    <script src="script.js"></script>
</body>
</html>