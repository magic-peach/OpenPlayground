<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Weather Sculpture</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e6e6e6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-size: 2.8rem;
            background: linear-gradient(to right, #4cc9f0, #4361ee);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #a5b4fc;
            margin-bottom: 20px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0 30px;
        }

        .search-container {
            display: flex;
            max-width: 500px;
            width: 100%;
        }

        input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 50px 0 0 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            backdrop-filter: blur(5px);
        }

        input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        button {
            padding: 15px 30px;
            border: none;
            border-radius: 0 50px 50px 0;
            background: linear-gradient(to right, #4361ee, #3a0ca3);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: linear-gradient(to right, #4895ef, #4361ee);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }

        .location-btn {
            border-radius: 50px;
            padding: 15px 25px;
            background: linear-gradient(to right, #f72585, #b5179e);
        }

        .location-btn:hover {
            background: linear-gradient(to right, #b5179e, #7209b7);
            box-shadow: 0 5px 15px rgba(183, 23, 158, 0.4);
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }

        .weather-info {
            flex: 1;
            min-width: 300px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .location {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .location i {
            font-size: 1.5rem;
            color: #4cc9f0;
            margin-right: 10px;
        }

        .location h2 {
            font-size: 1.8rem;
        }

        .current-weather {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .temp {
            font-size: 4.5rem;
            font-weight: 300;
            margin-right: 20px;
            background: linear-gradient(to right, #f8f9fa, #e9ecef);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .weather-details {
            flex: 1;
        }

        .condition {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #a5b4fc;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .detail-item {
            display: flex;
            align-items: center;
        }

        .detail-item i {
            font-size: 1.2rem;
            margin-right: 10px;
            color: #4cc9f0;
            width: 30px;
        }

        .weather-sculpture {
            flex: 2;
            min-width: 300px;
            height: 500px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sculpture-container {
            width: 100%;
            height: 100%;
            position: relative;
            perspective: 1000px;
        }

        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background: #1a3a27;
            border-radius: 50% 50% 0 0;
        }

        .sky {
            position: absolute;
            top: 0;
            width: 100%;
            height: 70%;
        }

        .sun, .moon {
            position: absolute;
            border-radius: 50%;
            top: 50px;
            right: 100px;
        }

        .sun {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #ffdd00, #ff6600);
            box-shadow: 0 0 60px 30px rgba(255, 221, 0, 0.6);
        }

        .moon {
            width: 70px;
            height: 70px;
            background: radial-gradient(circle at 30% 30%, #f8f9fa, #adb5bd);
            box-shadow: 0 0 40px 20px rgba(248, 249, 250, 0.4);
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        .rain-drop {
            position: absolute;
            width: 2px;
            height: 15px;
            background: linear-gradient(to bottom, transparent, #4cc9f0);
            animation: rain 1s infinite linear;
        }

        .snow-flake {
            position: absolute;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: snow 5s infinite linear;
        }

        .wind-line {
            position: absolute;
            height: 1px;
            background: rgba(255, 255, 255, 0.7);
            animation: wind 10s infinite linear;
        }

        .tree {
            position: absolute;
            bottom: 30%;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 60px solid #2d6a4f;
        }

        .tree-trunk {
            position: absolute;
            bottom: 30%;
            width: 8px;
            height: 40px;
            background: #5a3921;
        }

        .instructions {
            text-align: center;
            margin-top: 20px;
            color: #a5b4fc;
            font-style: italic;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: #4cc9f0;
        }

        .error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            color: #f72585;
            text-align: center;
            padding: 20px;
        }

        @keyframes float {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }

        @keyframes rain {
            0% { transform: translateY(-20px); opacity: 1; }
            100% { transform: translateY(150px); opacity: 0; }
        }

        @keyframes snow {
            0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(150px) rotate(360deg); opacity: 0; }
        }

        @keyframes wind {
            0% { transform: translateX(-100px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateX(calc(100vw + 100px)); opacity: 0; }
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .search-container {
                width: 100%;
            }
            
            .weather-sculpture {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Real-time Weather Sculpture</h1>
            <p class="subtitle">Watch weather data transform into animated 3D landscapes</p>
            
            <div class="controls">
                <div class="search-container">
                    <input type="text" id="city-input" placeholder="Enter a city name...">
                    <button id="search-btn"><i class="fas fa-search"></i> Search</button>
                </div>
                <button class="location-btn" id="location-btn"><i class="fas fa-map-marker-alt"></i> Use My Location</button>
            </div>
        </header>
        
        <div class="main-content">
            <div class="weather-info">
                <div class="location">
                    <i class="fas fa-map-marker-alt"></i>
                    <h2 id="city-name">New York, US</h2>
                </div>
                
                <div class="current-weather">
                    <div class="temp" id="temperature">24°C</div>
                    <div class="weather-details">
                        <div class="condition" id="weather-condition">Partly Cloudy</div>
                        <div id="weather-description">Feels like 25°C • Humidity: 65%</div>
                    </div>
                </div>
                
                <div class="details-grid">
                    <div class="detail-item">
                        <i class="fas fa-wind"></i>
                        <div>Wind: <span id="wind-speed">12 km/h</span></div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-tint"></i>
                        <div>Humidity: <span id="humidity">65%</span></div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-temperature-high"></i>
                        <div>Feels Like: <span id="feels-like">25°C</span></div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-cloud"></i>
                        <div>Clouds: <span id="cloudiness">40%</span></div>
                    </div>
                </div>
            </div>
            
            <div class="weather-sculpture">
                <div class="sculpture-container" id="sculpture-container">
                    <!-- Weather elements will be generated here by JavaScript -->
                    <div class="loading" id="loading">Generating weather sculpture...</div>
                </div>
            </div>
        </div>
        
        <p class="instructions">The 3D sculpture visualizes current weather conditions through animated elements. Try searching for different cities!</p>
        
        <footer>
            <p>Real-time Weather Sculpture • Uses OpenWeatherMap API • Made with HTML, CSS & JavaScript</p>
            <p>Note: For demo purposes, the app uses simulated weather data. Replace with a real API key for live data.</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const cityInput = document.getElementById('city-input');
        const searchBtn = document.getElementById('search-btn');
        const locationBtn = document.getElementById('location-btn');
        const cityName = document.getElementById('city-name');
        const temperature = document.getElementById('temperature');
        const weatherCondition = document.getElementById('weather-condition');
        const weatherDescription = document.getElementById('weather-description');
        const windSpeed = document.getElementById('wind-speed');
        const humidity = document.getElementById('humidity');
        const feelsLike = document.getElementById('feels-like');
        const cloudiness = document.getElementById('cloudiness');
        const sculptureContainer = document.getElementById('sculpture-container');
        const loading = document.getElementById('loading');

        // API Configuration (Replace with your own API key for real data)
        // For demo, we'll use simulated data
        const API_KEY = 'demo_key'; // Replace with actual OpenWeatherMap API key
        const BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';

        // Sample weather data for demonstration
        const sampleWeatherData = {
            'New York': {
                name: 'New York, US',
                main: { temp: 24, feels_like: 25, humidity: 65 },
                weather: [{ main: 'Clouds', description: 'partly cloudy' }],
                wind: { speed: 12 },
                clouds: { all: 40 },
                sys: { sunrise: Date.now()/1000 - 5*3600, sunset: Date.now()/1000 + 2*3600 }
            },
            'London': {
                name: 'London, UK',
                main: { temp: 15, feels_like: 14, humidity: 80 },
                weather: [{ main: 'Rain', description: 'light rain' }],
                wind: { speed: 18 },
                clouds: { all: 90 },
                sys: { sunrise: Date.now()/1000 - 2*3600, sunset: Date.now()/1000 + 4*3600 }
            },
            'Tokyo': {
                name: 'Tokyo, Japan',
                main: { temp: 28, feels_like: 30, humidity: 70 },
                weather: [{ main: 'Clear', description: 'clear sky' }],
                wind: { speed: 8 },
                clouds: { all: 10 },
                sys: { sunrise: Date.now()/1000 - 1*3600, sunset: Date.now()/1000 + 6*3600 }
            },
            'Sydney': {
                name: 'Sydney, Australia',
                main: { temp: 22, feels_like: 23, humidity: 55 },
                weather: [{ main: 'Sunny', description: 'sunny' }],
                wind: { speed: 15 },
                clouds: { all: 5 },
                sys: { sunrise: Date.now()/1000 - 3*3600, sunset: Date.now()/1000 + 3*3600 }
            },
            'Moscow': {
                name: 'Moscow, Russia',
                main: { temp: 8, feels_like: 5, humidity: 85 },
                weather: [{ main: 'Snow', description: 'light snow' }],
                wind: { speed: 22 },
                clouds: { all: 100 },
                sys: { sunrise: Date.now()/1000 - 4*3600, sunset: Date.now()/1000 + 1*3600 }
            }
        };

        // Default city
        let currentCity = 'New York';

        // Initialize with default city
        window.addEventListener('DOMContentLoaded', () => {
            getWeatherData(currentCity);
        });

        // Event Listeners
        searchBtn.addEventListener('click', () => {
            const city = cityInput.value.trim();
            if (city) {
                getWeatherData(city);
                cityInput.value = '';
            }
        });

        cityInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const city = cityInput.value.trim();
                if (city) {
                    getWeatherData(city);
                    cityInput.value = '';
                }
            }
        });

        locationBtn.addEventListener('click', () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        // In a real implementation, you would reverse geocode the coordinates
                        // For demo, we'll use a random city from our sample data
                        const cities = Object.keys(sampleWeatherData);
                        const randomCity = cities[Math.floor(Math.random() * cities.length)];
                        getWeatherData(randomCity);
                    },
                    error => {
                        alert('Unable to retrieve your location. Please search for a city manually.');
                        console.error('Geolocation error:', error);
                    }
                );
            } else {
                alert('Geolocation is not supported by your browser.');
            }
        });

        // Fetch weather data (simulated for demo)
        async function getWeatherData(city) {
            loading.style.display = 'block';
            
            // Simulate API delay
            setTimeout(() => {
                // Check if city exists in sample data
                const normalizedCity = Object.keys(sampleWeatherData).find(
                    key => key.toLowerCase() === city.toLowerCase()
                ) || 'New York';
                
                const weatherData = sampleWeatherData[normalizedCity];
                currentCity = normalizedCity;
                
                updateWeatherUI(weatherData);
                generateWeatherSculpture(weatherData);
                
                loading.style.display = 'none';
            }, 800);
        }

        // Update weather information UI
        function updateWeatherUI(data) {
            cityName.textContent = data.name;
            temperature.textContent = `${data.main.temp}°C`;
            weatherCondition.textContent = data.weather[0].main;
            weatherDescription.textContent = `Feels like ${data.main.feels_like}°C • Humidity: ${data.main.humidity}%`;
            windSpeed.textContent = `${data.wind.speed} km/h`;
            humidity.textContent = `${data.main.humidity}%`;
            feelsLike.textContent = `${data.main.feels_like}°C`;
            cloudiness.textContent = `${data.clouds.all}%`;
        }

        // Generate the weather sculpture
        function generateWeatherSculpture(data) {
            // Clear previous sculpture
            sculptureContainer.innerHTML = '';
            
            // Add ground
            const ground = document.createElement('div');
            ground.className = 'ground';
            sculptureContainer.appendChild(ground);
            
            // Determine if it's day or night
            const now = Date.now() / 1000;
            const isDay = now > data.sys.sunrise && now < data.sys.sunset;
            
            // Add sun or moon
            if (isDay) {
                const sun = document.createElement('div');
                sun.className = 'sun';
                sculptureContainer.appendChild(sun);
                
                // Adjust sun position based on time
                const dayProgress = (now - data.sys.sunrise) / (data.sys.sunset - data.sys.sunrise);
                const sunLeft = 20 + (dayProgress * 60);
                sun.style.left = `${sunLeft}%`;
            } else {
                const moon = document.createElement('div');
                moon.className = 'moon';
                sculptureContainer.appendChild(moon);
                
                // Adjust moon position based on time
                const nightProgress = (now - data.sys.sunset) / (86400 - (data.sys.sunset - data.sys.sunrise));
                const moonLeft = 20 + (nightProgress * 60);
                moon.style.left = `${moonLeft}%`;
            }
            
            // Set sky color based on time and weather
            const sky = document.createElement('div');
            sky.className = 'sky';
            
            if (isDay) {
                if (data.weather[0].main === 'Clear' || data.weather[0].main === 'Sunny') {
                    sky.style.background = 'linear-gradient(to bottom, #87CEEB, #E0F7FF)';
                } else if (data.weather[0].main === 'Clouds') {
                    sky.style.background = 'linear-gradient(to bottom, #B0C4DE, #D3D3D3)';
                } else if (data.weather[0].main === 'Rain') {
                    sky.style.background = 'linear-gradient(to bottom, #808080, #A9A9A9)';
                }
            } else {
                sky.style.background = 'linear-gradient(to bottom, #0f0c29, #302b63)';
            }
            
            sculptureContainer.appendChild(sky);
            
            // Generate weather elements based on conditions
            const weatherType = data.weather[0].main;
            
            if (weatherType === 'Clouds') {
                generateClouds(data.clouds.all);
            }
            
            if (weatherType === 'Rain') {
                generateRain(data.wind.speed);
                generateClouds(100); // Full cloud cover for rain
            }
            
            if (weatherType === 'Snow') {
                generateSnow(data.wind.speed);
                generateClouds(100); // Full cloud cover for snow
            }
            
            if (weatherType === 'Clear' || weatherType === 'Sunny') {
                // Add a few wispy clouds for clear/sunny days
                if (data.clouds.all > 0) {
                    generateClouds(data.clouds.all);
                }
            }
            
            // Always generate wind lines (strength based on wind speed)
            generateWind(data.wind.speed);
            
            // Add trees (more for calm weather, swaying for windy)
            generateTrees(data.wind.speed);
            
            // Set ground color based on weather
            if (weatherType === 'Snow') {
                ground.style.background = 'linear-gradient(to top, #E6F7FF, #FFFFFF)';
            } else if (weatherType === 'Rain') {
                ground.style.background = 'linear-gradient(to top, #2E4F2E, #3A5F3A)';
            } else {
                ground.style.background = 'linear-gradient(to top, #1a3a27, #2d6a4f)';
            }
        }

        // Generate clouds based on cloud cover percentage
        function generateClouds(cloudCover) {
            const cloudCount = Math.floor(cloudCover / 10); // 0-10 clouds
            
            for (let i = 0; i < cloudCount; i++) {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                
                // Randomize cloud properties
                const size = 40 + Math.random() * 60;
                const top = 30 + Math.random() * 40;
                const opacity = 0.6 + Math.random() * 0.4;
                const animationDelay = Math.random() * 20;
                
                cloud.style.width = `${size}px`;
                cloud.style.height = `${size * 0.6}px`;
                cloud.style.top = `${top}%`;
                cloud.style.left = `${-100 - Math.random() * 100}px`;
                cloud.style.opacity = opacity;
                cloud.style.animationDelay = `${animationDelay}s`;
                
                // Create cloud shape with multiple circles
                cloud.innerHTML = `
                    <div style="position: absolute; width: ${size * 0.6}px; height: ${size * 0.6}px; background: inherit; border-radius: 50%; top: -${size * 0.3}px; left: ${size * 0.1}px;"></div>
                    <div style="position: absolute; width: ${size * 0.7}px; height: ${size * 0.7}px; background: inherit; border-radius: 50%; top: -${size * 0.25}px; left: ${size * 0.4}px;"></div>
                    <div style="position: absolute; width: ${size * 0.5}px; height: ${size * 0.5}px; background: inherit; border-radius: 50%; top: -${size * 0.2}px; left: ${size * 0.9}px;"></div>
                `;
                
                sculptureContainer.appendChild(cloud);
            }
        }

        // Generate rain drops
        function generateRain(windSpeed) {
            const rainCount = 100; // Number of raindrops
            
            for (let i = 0; i < rainCount; i++) {
                const rainDrop = document.createElement('div');
                rainDrop.className = 'rain-drop';
                
                const left = Math.random() * 100;
                const animationDelay = Math.random() * 2;
                const animationDuration = 0.5 + Math.random() * 1.5;
                const windInfluence = windSpeed * 0.5;
                
                rainDrop.style.left = `${left}%`;
                rainDrop.style.animationDelay = `${animationDelay}s`;
                rainDrop.style.animationDuration = `${animationDuration}s`;
                rainDrop.style.transform = `translateX(${windInfluence}px)`;
                
                sculptureContainer.appendChild(rainDrop);
            }
        }

        // Generate snow flakes
        function generateSnow(windSpeed) {
            const snowCount = 80; // Number of snowflakes
            
            for (let i = 0; i < snowCount; i++) {
                const snowFlake = document.createElement('div');
                snowFlake.className = 'snow-flake';
                
                const left = Math.random() * 100;
                const size = 3 + Math.random() * 7;
                const animationDelay = Math.random() * 5;
                const animationDuration = 3 + Math.random() * 7;
                const windInfluence = windSpeed * 0.3;
                
                snowFlake.style.left = `${left}%`;
                snowFlake.style.width = `${size}px`;
                snowFlake.style.height = `${size}px`;
                snowFlake.style.animationDelay = `${animationDelay}s`;
                snowFlake.style.animationDuration = `${animationDuration}s`;
                snowFlake.style.transform = `translateX(${windInfluence}px)`;
                
                sculptureContainer.appendChild(snowFlake);
            }
        }

        // Generate wind lines
        function generateWind(windSpeed) {
            const windCount = Math.floor(windSpeed / 5); // More lines for stronger wind
            
            for (let i = 0; i < windCount; i++) {
                const windLine = document.createElement('div');
                windLine.className = 'wind-line';
                
                const top = 20 + Math.random() * 60;
                const width = 50 + Math.random() * 100;
                const opacity = 0.2 + Math.random() * 0.3;
                const animationDelay = Math.random() * 10;
                
                windLine.style.top = `${top}%`;
                windLine.style.width = `${width}px`;
                windLine.style.opacity = opacity;
                windLine.style.animationDelay = `${animationDelay}s`;
                
                // Adjust animation speed based on wind speed
                windLine.style.animationDuration = `${20 - (windSpeed / 5)}s`;
                
                sculptureContainer.appendChild(windLine);
            }
        }

        // Generate trees with sway based on wind
        function generateTrees(windSpeed) {
            const treeCount = 10; // Number of trees
            
            for (let i = 0; i < treeCount; i++) {
                // Create tree trunk
                const trunk = document.createElement('div');
                trunk.className = 'tree-trunk';
                
                const left = 10 + (i * 9);
                const height = 30 + Math.random() * 30;
                
                trunk.style.left = `${left}%`;
                trunk.style.height = `${height}px`;
                
                // Add sway animation if windy
                if (windSpeed > 15) {
                    trunk.style.animation = `sway ${3 + Math.random() * 2}s infinite alternate ease-in-out`;
                    trunk.style.transformOrigin = 'bottom center';
                }
                
                sculptureContainer.appendChild(trunk);
                
                // Create tree foliage
                const tree = document.createElement('div');
                tree.className = 'tree';
                
                tree.style.left = `${left - 1.5}%`;
                tree.style.bottom = `${30 + height}%`;
                tree.style.borderBottomWidth = `${40 + Math.random() * 40}px`;
                tree.style.borderLeftWidth = `${10 + Math.random() * 10}px`;
                tree.style.borderRightWidth = `${10 + Math.random() * 10}px`;
                
                // Adjust color based on season (simulated)
                const greenShade = Math.floor(100 + Math.random() * 100);
                tree.style.borderBottomColor = `rgb(30, ${greenShade}, 50)`;
                
                // Add sway animation if windy
                if (windSpeed > 15) {
                    tree.style.animation = `sway ${3 + Math.random() * 2}s infinite alternate ease-in-out`;
                    tree.style.animationDelay = `${Math.random() * 2}s`;
                    tree.style.transformOrigin = 'bottom center';
                }
                
                sculptureContainer.appendChild(tree);
            }
            
            // Add CSS for sway animation
            if (!document.querySelector('#sway-animation')) {
                const style = document.createElement('style');
                style.id = 'sway-animation';
                style.textContent = `
                    @keyframes sway {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(${Math.min(windSpeed / 10, 5)}deg); }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Add sample cities for quick testing
        const sampleCities = document.createElement('div');
        sampleCities.style.cssText = `
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        `;
        
        const cities = ['London', 'Tokyo', 'Sydney', 'Moscow'];
        cities.forEach(city => {
            const btn = document.createElement('button');
            btn.textContent = city;
            btn.style.cssText = `
                padding: 8px 16px;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                border-radius: 20px;
                cursor: pointer;
                transition: all 0.3s;
            `;
            btn.addEventListener('mouseenter', () => {
                btn.style.background = 'rgba(255, 255, 255, 0.2)';
            });
            btn.addEventListener('mouseleave', () => {
                btn.style.background = 'rgba(255, 255, 255, 0.1)';
            });
            btn.addEventListener('click', () => {
                getWeatherData(city);
            });
            sampleCities.appendChild(btn);
        });
        
        document.querySelector('.controls').appendChild(sampleCities);
    </script>
</body>
</html>